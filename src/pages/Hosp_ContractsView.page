<apex:page id="Hosp_ContractsView" controller="Hosp_ContractsViewController" tabStyle="Contract__c">
    <apex:messages/>

    <apex:form>
        <apex:pageBlock id="contracts_list" title="{! $Label.Contracts }">
            <apex:pageBlockSection columns="1">
                <apex:pageBlockTable value="{! contracts }" var="contr" columns="5" columnsWidth="10%,30%,30%,15%, 15%">

                    <apex:column headerValue="{! $Label.Actions }">

                        <apex:commandLink action="{! dismiss }" reRender="contracts_list" style="text-decoration:none">
                            <apex:param name="contractId" value="{! contr.Id }" assignTo="{! contractId }"/>
                            <apex:commandButton value="{! $Label.Dismiss }"
                                                rendered="{! if(contr.EndDate__c <= TODAY(), 'false', 'true') }"/>
                        </apex:commandLink>

                    </apex:column>

                    <apex:column headerValue="{! $Label.Name }"
                                 value="{! contr.Doctor__r.FirstName__c } {! contr.Doctor__r.Name }"/>
                    <apex:column headerValue="{! $Label.Hospital }" value="{! contr.Hospital__r.Name }"/>
                    <apex:column headerValue="{! $Label.Start_Date_Label }" value="{! contr.StartDate__c}"/>
                    <apex:column headerValue="{! $Label.End_Date_Label }" value="{! contr.EndDate__c}"/>

                </apex:pageBlockTable>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>
